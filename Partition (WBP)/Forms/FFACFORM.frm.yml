Form:
  Name:               FFACFORM
  Enabled For RDMLX:  Yes

  Framework:
    Id1:                6518
    Id2:                100

  Multilingual Details:
  - DAN:
      Description:        "test of file FFACTURAS"

  - ENG:
      Description:        "test of file FFACTURAS"

  - FRA:
      Description:        "test of file FFACTURAS"

  - JPN:
      Description:        "test of file FFACTURAS"

  - TRK:
      Description:        "test of file FFACTURAS"

  Source: |
    Function Options(*DIRECT)
    Begin_Com Role(*EXTENDS #PRIM_FORM) Clientwidth(484) Clientheight(301) Componentversion(2) Left(525) Top(202)
    
    Evtroutine Handling(#com_owner.CreateInstance)
    
    Group_By Name(#FFACTURAS) Fields(#FFNumero #FFacturaXML #FFEstadoF #FACVALFEC #FACVALHOR #FACAUTCOD #FACAUTFINI #FACAUTFFIN #FACAUTPREF #FACAUTVLRI #FACAUTVLRF #FACDOCCUFE #FACDOCNUM #FACDOCFEMI #FACDOCHEMI #FACDOCFVEN #FACDOCTIPOF #FACDOCMONE #FACDOCNUMLI #FACDOCORDEP #FACVENRSOC #FACVENCIIU #FACVENCIUD #FACVENDEP #FACVENDIRE #FACVENPAIS #FACVENTIPOID #FACVENIDEN #FACVENTELEF #FACVENCORREOE #FACVENTAXLVCODE #FACCLINRSOC #FACCLICIUD #FACCLIDEP #FACCLIDIRE #FACCLIPAIS #FACCLITIPOID #FACCLIIDEN #FACCLITELEF #FACCLICORREOE #FACCLITAXLVCODE #FACENTFEC #FACENTCIUD #FACENTDIRE #FACENTPAIS #FACFOPMED #FACFOPFVEN #FACFOPCOD #FACFOPIDPA #FACANTIDEP #FACANTVLR #FACANTFREPA #FACANTFEPAG #FACANTHOPAG #FACANTINSTP #FACVLRVLRBRUTO #FACVLRBASEIMP #FACVLRBRIMP #FACVLRDESCU #FACVLRSUMCARGOS #FACVLRSUMANTIC #FACVLRAPAGAR #FacDesList #FacLinList #FacLinImpList #FacRecTerList #FacImpList)
    #FFNumero #FFEstadoF #FACAUTCOD #FACAUTPREF #FACAUTVLRI #FACAUTVLRF #FACDOCCUFE #FACDOCNUM #FACDOCTIPOF #FACDOCMONE #FACDOCORDEP #FACVENRSOC #FACVENCIIU #FACVENCIUD #FACVENDEP #FACVENDIRE #FACVENPAIS #FACVENTIPOID #FACVENIDEN #FACVENTELEF #FACVENCORREOE #FACVENTAXLVCODE #FACCLINRSOC #FACCLICIUD #FACCLIDEP #FACCLIDIRE #FACCLIPAIS #FACCLITIPOID #FACCLIIDEN #FACCLITELEF #FACCLICORREOE #FACCLITAXLVCODE #FACENTCIUD #FACENTDIRE #FACENTPAIS #FACFOPMED #FACFOPCOD #FACFOPIDPA #FACANTIDEP #FACANTINSTP #FacDesList #FacLinList #FacLinImpList #FacRecTerList #FacImpList := "A"
    #FACVALFEC #FACAUTFINI #FACAUTFFIN #FACDOCFEMI #FACDOCFVEN #FACENTFEC #FACFOPFVEN #FACANTFREPA #FACANTFEPAG := #DATEX.Now
    #FACVALHOR #FACDOCHEMI #FACANTHOPAG := #TIMEX.Now
    #FACDOCNUMLI #FACANTVLR #FACVLRVLRBRUTO #FACVLRBASEIMP #FACVLRBRIMP #FACVLRDESCU #FACVLRSUMCARGOS #FACVLRSUMANTIC #FACVLRAPAGAR := 9
    Define Field(#l_Count) Reffld(#STD_COUNT)
    Def_List Name(#l_FFACTURAS) Fields(#FFNumero) Counter(#l_Count) Type(*WORKING)
    
    Select Fields(*ALL) From_File(ffacturas)
    Add_Entry To_List(#l_FFACTURAS)
    Endselect
    
    If (#l_Count = 1)
    Get_Entry Number(1)
    Delete From_File(FFACTURAS) With_Key(#FFNumero)
    Endif
    
    Insert Fields(#FFACTURAS) To_File(FFACTURAS)
    * Fetch Fields(*ALL) From_File(FFACTURAS)
    #FFEstadoF := "B"
    Update Fields(#FFEstadoF) In_File(FFACTURAS) With_Key(#FFNUMERO) Io_Error(*NEXT)
    Fetch Fields(*ALL) From_File(FFACTURAS)
    
    Endroutine
    
    End_Com
    
