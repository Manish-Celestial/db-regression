Function:
  Enabled For RDMLX:  Yes

  Source: |
    * =======================================================
    * Copyright .....: (C) LANSA PTY LTD, 1992
    * Process .......: VTI0035
    * Function ......: VI0035T
    * Type ..........: VTLI0035G File Level Trigger
    * Created by ....:
    * Created on ....: 23/10/13 at 00:23:04
    * Description ...: File Trigger
    * =======================================================
    Function Options(*DIRECT *LIGHTUSAGE *MLOPTIMISE) Rcv_List(#TRIG_LIST) Trigger(*FILE VTLI0035G)
    * =======================================================
    * Working fields, lists and groups
    * =======================================================
    * At entry #TRIG_LIST will contain 0,1 or 2
    * entries representing current and previous
    * record images of file VTLI0035C. Refer to the
    * Technical Guide for details and examples.
    * Do NOT define any fields in this list. They
    * are automatically included by the compiler.
    Def_List Name(#TRIG_LIST) Type(*WORKING) Entrys(2)
    * =======================================================
    * Function Mainline : VI0035T
    * =======================================================
    * Assume a "good" return initially
    Change Field(#TRIG_RETC) To('OK')
    *
    * >>> DELETE all "not defined" events from the  <<<
    * >>> the following CASE construct. (ie: Remove <<<
    * >>> WHEN VALUE_IS commands that are not part  <<<
    * >>> of the definition of this trigger BEFORE  <<<
    * >>> specifying details of the events that are <<<
    * >>> part of the definition of this trigger).  <<<
    * >>> This simplifies logic in this function    <<<
    * >>> and ensures an ABORT if someone attempts  <<<
    * >>> to cause it to be invoked during an event <<<
    * >>> that it has not been set up to handle.    <<<
    *
    Case Of_Field(#TRIG_OPER)
    * Handle a before open event
    When Value_Is('= BEFOPN')
    Use Builtin(ISSUEMESSAGE) With_Args(AQUEUE M DCM9898 'DC@M01' *Default 'BEFOPN')
    
    * Handle an after open event
    When Value_Is('= AFTOPN')
    * Handle a before close event
    When Value_Is('= BEFCLS')
    * Handle an after close event
    When Value_Is('= AFTCLS')
    * Handle a before read event
    When Value_Is('= BEFRED')
    * Handle an after read event
    When Value_Is('= AFTRED')
    * Handle a before insert event
    When Value_Is('= BEFINS')
    Use Builtin(ISSUEMESSAGE) With_Args(AQUEUE M DCM9898 'DC@M01' *Default 'BEFINS')
    #TRIG_RETC := VE
    
    * Handle an after insert event
    When Value_Is('= AFTINS')
    Use Builtin(ISSUEMESSAGE) With_Args(AQUEUE M DCM9898 'DC@M01' *Default 'AFTINS')
    #TRIG_RETC := VE
    
    * Handle a before update event
    When Value_Is('= BEFUPD')
    * Handle an after update event
    When Value_Is('= AFTUPD')
    * Handle a before delete event
    When Value_Is('= BEFDLT')
    * Handle an after delete event
    When Value_Is('= AFTDLT')
    * Handle an event not catered for
    Otherwise
    Abort Msgtxt('File VTLI0035G trigger function invalidly invoked/ used.')
    Endcase
    * Return control to the invoker
    Return
    
